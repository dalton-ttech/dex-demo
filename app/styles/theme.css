/* =========================================================
   1. 变量定义 (Aitail System)
   ========================================================= */
:root, html {
  /* 劫持 SDK 默认背景 */
  --w3o-background-color: transparent !important;
  --w3o-surface-color: #000000 !important;

  /* 字体 */
  --oui-font-family: 'Manrope', system-ui, -apple-system, sans-serif;

  /* 品牌色 */
  --oui-color-primary: 191 212 250; /* #BFD4FA */
  --oui-color-primary-light: 220 230 255;
  
  /* 涨跌色 (莫兰迪色系) */
  --oui-color-success: 137 201 160; 
  --oui-color-danger: 216 122 122; 
  
  /* 圆角 */
  --oui-rounded: 10px;
  --oui-rounded-lg: 14px;
}

/* =========================================================
   2. 全局背景 (纯黑)
   ========================================================= */
body {
  background-color: #000000 !important;
  background-image: none !important;
  color: #ffffff;
  min-height: 100vh;
  margin: 0;
}

/* =========================================================
   3. 布局层透明化
   ========================================================= */
#root, 
.orderly-app, 
.oui-scaffold-root,
.oui-scaffold-container,
div[class*="layout"],
main {
  background: transparent !important;
  background-color: transparent !important;
}

/* =========================================================
   4. 核心：Aitail 卡片光影系统
   ========================================================= */

/* A. 卡片主体 */
.oui-card,
div[class*="card"],
div[class*="Card"],
div[class*="bg-base"], /* 匹配 SDK 的背景块 */
div[class*="dashboard-item"],
section,
aside {
  /* 
     1. 背景渐变 (增强版)
     从纯黑(#000) 渐变到 深蓝灰(#1A1E26)
     增加底部颜色的不透明度，让卡片轮廓更清晰
  */
  background: linear-gradient(180deg, #000000 0%, #151820 100%) !important;
  background-color: #050505 !important; /* 兜底颜色 */
  
  /* 2. 基础边框 (线框色1) */
  border: 1px solid #38455C !important;
  
  /* 3. 强制圆角 */
  border-radius: 12px !important;
  
  /* 4. 关键：相对定位，关掉溢出隐藏 (尝试解决光条消失) */
  position: relative !important;
  /* overflow: visible !important;  <-- 如果开这个导致排版乱，SDK会自动加回 hidden，所以我们改光条位置更稳妥 */
  
  box-shadow: none !important;
}

/* 
   B. 底部呼吸灯 (Bottom Light Bar)
   修正：将 bottom 设为 0，确保它画在卡片"里面"，不会被切掉
*/
div[class*="card"]::after,
div[class*="Card"]::after,
div[class*="bg-base"]::after,
section::after {
  content: "";
  position: absolute;
  bottom: 0px;  /* 紧贴底部内侧 */
  left: 15%;    /* 左右留白，模拟中间亮 */
  right: 15%;
  height: 1px;  /* 1px 细线 */
  
  /* 径向渐变：中间亮蓝(#6D97C0) -> 两侧透明 */
  background: radial-gradient(circle, rgba(109, 151, 192, 1) 0%, rgba(109, 151, 192, 0) 80%);
  
  z-index: 10;
  pointer-events: none;
  opacity: 1; /* 确保不透明 */
  box-shadow: 0 -1px 4px rgba(109, 151, 192, 0.5); /* 增加一点向上发光 */
}

/* =========================================================
   5. 按钮修复 (Button Fix) - 彻底去紫
   ========================================================= */

/* 所有主按钮 */
button[class*="primary"], 
.oui-button-primary {
  /* 1. 强制纯黑背景 */
  background-color: #000000 !important;
  /* 2. 杀掉背景图片 (SDK 常用 gradient-image 做紫色背景，必须杀掉) */
  background-image: none !important; 
  
  /* 3. 边框：灰蓝色 */
  border: 1px solid #596571 !important;
  
  /* 4. 文字：纯白 */
  color: #FFFFFF !important;
  
  border-radius: 99px !important;
  font-weight: 600;
  box-shadow: none !important;
  transition: all 0.2s ease;
}

/* 悬浮状态 (Hover) */
button[class*="primary"]:hover,
.oui-button-primary:hover {
  /* 1. 保持黑底 */
  background-color: #000000 !important;
  background-image: none !important;
  
  /* 2. 边框变亮 (Aitail 蓝) */
  border-color: #6D97C0 !important;
  
  /* 3. 文字变蓝 */
  color: #BFD4FA !important;
  
  /* 4. 微微发光 */
  box-shadow: 0 0 12px rgba(109, 151, 192, 0.3) !important;
}

/* 按下状态 (Active) */
button[class*="primary"]:active {
  transform: scale(0.98);
  border-color: #BFD4FA !important;
}

/* =========================================================
   6. 顶部导航栏 (Header)
   ========================================================= */
header, 
.oui-scaffold-topNavbar {
  background-color: rgba(0, 0, 0, 0.9) !important;
  backdrop-filter: blur(10px);
  border-bottom: 1px solid #37393D !important;
}

/* =========================================================
   7. 列表与表头 (Tables)
   修复左侧列表看起来没样式的问题
   ========================================================= */
/* 表头透明化 */
thead, .oui-table-header {
  background: transparent !important;
  border-bottom: 1px solid #37393D !important;
}

/* 列表行 */
tbody tr, .oui-table-row {
  background: transparent !important;
}
tbody tr:hover {
  background: rgba(56, 69, 92, 0.1) !important; /* 悬浮时微微泛蓝 */
}

/* =========================================================
   8. 输入框 & TradingView
   ========================================================= */
div[id*="tradingview"], iframe {
  background-color: #000000 !important;
  border: 1px solid #38455C !important;
  border-radius: 12px !important;
}

input, .oui-input {
  background-color: #050505 !important;
  border: 1px solid #37393D !important;
  color: #fff !important;
  border-radius: 8px !important;
}

/* 滚动条美化 (配合暗黑风格) */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-thumb {
  background: #38455C;
  border-radius: 3px;
}
::-webkit-scrollbar-track {
  background: #000;
}