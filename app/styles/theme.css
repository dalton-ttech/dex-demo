/* =========================================================
   1. 变量定义
   ========================================================= */
:root, html {
  --w3o-background-color: transparent !important;
  --w3o-surface-color: #000000 !important;
  --oui-font-family: 'Manrope', system-ui, -apple-system, sans-serif;
  
  /* Aitail 品牌色 */
  --oui-color-primary: 191 212 250; 
  --oui-color-primary-light: 220 230 255;
  --oui-color-success: 137 201 160; 
  --oui-color-danger: 216 122 122; 
  
  --oui-rounded: 8px;
  --oui-rounded-lg: 12px;
}

/* =========================================================
   2. 全局重置
   ========================================================= */
body {
  background-color: #000000 !important;
  background-image: none !important;
  color: #ffffff;
  min-height: 100vh;
  margin: 0;
}

/* 布局容器透明化 */
#root, .orderly-app, .oui-scaffold-root, .oui-scaffold-container, 
div[class*="layout"], main {
  background: transparent !important;
  background-color: transparent !important;
}

/* =========================================================
   3. 核心：双层卡片 (The Double Layer)
   ========================================================= */

/* A. 锁定所有板块的外框容器 */
.orderly-dashboard-layout-item,
.oui-card,
div[id*="tradingview"],
aside,
section {
  /* 1. 外边框 (Cage) */
  border: 1px solid #38455C !important;
  
  /* 2. 黑色间隙 (The Gap) - 4px 纯黑实心内阴影 */
  box-shadow: inset 0 0 0 4px #000000 !important;
  
  /* 3. 内胆 (The Gut) - 稍微提亮，确保肉眼可见 */
  background: linear-gradient(180deg, #0F0F0F 0%, #1E2330 100%) !important;
  
  border-radius: 12px !important;
  position: relative !important;
  z-index: 0;
  overflow: hidden !important;
}

/* B. 底部呼吸光条 */
.orderly-dashboard-layout-item::after,
.oui-card::after,
div[id*="tradingview"]::after,
aside::after,
section::after {
  content: "";
  position: absolute;
  bottom: 4px; /* 紧贴黑色间隙 */
  left: 15%; right: 15%;
  height: 1px;
  background: radial-gradient(circle, rgba(130, 180, 255, 1) 0%, rgba(109, 151, 192, 0) 70%);
  z-index: 10;
  pointer-events: none;
  box-shadow: 0 -2px 10px rgba(109, 151, 192, 0.8);
}

/* =========================================================
   4. 核弹级去色 (The Nuclear Cleaner)
   这是解决"双层效果出不来"的终极手段
   ========================================================= */

/* 
   强制把卡片内部的 div 背景全部设为透明！
   这样底层的渐变内胆才能露出来。
*/
.orderly-dashboard-layout-item div,
.oui-card div,
aside div,
section div {
  background-color: transparent !important;
  background-image: none !important;
}

/* =========================================================
   5. 战后重建 (Restoration)
   因为上面的第4步太暴力，把按钮和输入框也搞透明了，必须救回来
   ========================================================= */

/* A. 恢复输入框 & 下拉菜单 */
.orderly-dashboard-layout-item input,
.oui-card input,
input, 
.oui-input,
div[class*="dropdown"],
div[class*="menu"],
div[class*="popover"] {
  background-color: #050505 !important; /* 恢复黑色 */
  border: 1px solid #37393D !important;
  border-radius: 8px !important;
  box-shadow: none !important;
  opacity: 1 !important;
}

/* B. 恢复按钮 */
button, .oui-button, [role="button"] {
  background-color: #000000 !important; /* 恢复黑色 */
  background-image: none !important;
  border: 1px solid #596571 !important;
  color: #FFFFFF !important;
  border-radius: 99px !important;
  opacity: 1 !important;
}

/* 按钮 Hover */
button:hover, .oui-button:hover {
  border-color: #6D97C0 !important;
  color: #BFD4FA !important;
  box-shadow: 0 0 12px rgba(109, 151, 192, 0.3) !important;
}

/* C. 恢复 Tabs */
div[role="tab"] {
  background-color: #000000 !important;
  border: 1px solid #37393D !important;
  border-radius: 6px !important;
}
div[role="tab"][aria-selected="true"] {
  background-color: rgba(109, 151, 192, 0.15) !important;
  border-color: #6D97C0 !important;
}

/* =========================================================
   6. 导航栏 (Header) - 独立保护
   ========================================================= */
header, 
.oui-scaffold-topNavbar, 
nav {
  background-color: rgba(0, 0, 0, 0.95) !important; /* 必须不透明 */
  border-bottom: 1px solid #38455C !important;
  backdrop-filter: blur(10px);
  position: fixed !important;
  top: 0; left: 0; right: 0;
  z-index: 9999 !important;
  box-shadow: none !important;
}

/* 修正内容顶距 */
.oui-scaffold-content {
  margin-top: 60px !important;
}

/* K线图 */
iframe {
  border: none !important;
  box-shadow: none !important;
  background: transparent !important;
}